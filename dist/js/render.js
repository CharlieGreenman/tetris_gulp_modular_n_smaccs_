function drawBlock(r,t){ctx.fillRect(BLOCK_W*r,BLOCK_H*t,BLOCK_W-1,BLOCK_H-1),ctx.strokeRect(BLOCK_W*r,BLOCK_H*t,BLOCK_W-1,BLOCK_H-1)}function render(){ctx.clearRect(0,0,W,H),ctx.strokeStyle="black";for(var r=0;r<COLS;++r)for(var t=0;t<ROWS;++t)board[t][r]&&(ctx.fillStyle=colors[board[t][r]-1],drawBlock(r,t));ctx.fillStyle="red",ctx.strokeStyle="black";for(var t=0;4>t;++t)for(var r=0;4>r;++r)current[t][r]&&(ctx.fillStyle=colors[current[t][r]-1],drawBlock(currentX+r,currentY+t))}var canvas=document.getElementsByTagName("canvas")[0],ctx=canvas.getContext("2d"),W=300,H=600,BLOCK_W=W/COLS,BLOCK_H=H/ROWS;setInterval(render,30);